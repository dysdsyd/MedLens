<!DOCTYPE html>
<html lang="en">
<head>
	{% load staticfiles %}
	<title>Launch Analytics</title>
	<meta charset="utf-8">
	<style>
		header {
		    background-color:#115EA2;
		    min-height:150px;
		    width:100%;
		    position:relative;
		    }		
		h1 {
		  font-size: 50px;
		  color : #ffffff;
		  top :60%;
		  left:40%;
		  position:absolute;
		  float:left;
		  opacity: 1;
		   } 

		.logo {
		      display: inline-block;
		      position:absolute;
		      top:15%;
		      left:3%;
		      float:left;
		      color: white;
		     }
		.boxed {
		        border: 5px solid black ;
		        width:500px;
		        background-color:white;
		        }
		div#loading {
				position: fixed;
				margin-right: 1%;
				width: 70%;
				height: 100%;
				z-index: 9999;
			    background: url(https://codesquery.com/wp-content/uploads/2016/12/hourglass.svg)50% 50% no-repeat rgb(249,249,249);;
			    cursor: wait;
			    display: none;
			}
		.hide {
 			 display: none;
			}

	</style>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link href="https://fonts.googleapis.com/css?family=Saira+Semi+Condensed" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Latest compiled and minified CSS --> 
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.css">
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.min.js"></script>
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	<script type="text/javascript">
		// <![CDATA[
        function loading(){
            $("#loading").show();
            $("#content").hide();
        }
// ]]>
	</script>
	<script type="text/javascript">
		$(document).on('change', '.div-toggle', function() {
		  var target = $(this).data('target');
		  var show = $("option:selected", this).data('show');
		  $(target).children().addClass('hide');
		  $(show).removeClass('hide');
		});
		$(document).ready(function(){
			$('.div-toggle').trigger('change');
		});       
	</script>
</head>

<body style="font-family: 'Saira Semi Condensed', sans-serif;">
<header>
	<nav class="navbar">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand">
					<img src= "{% static "media/zslogo.jpg" %}" width = "150" height = "130" class="logo" alt="">
					<h1 style="color: white; opacity: .5; font-size: 40px;"><strong>Launch Analytics</strong></h1>
				</a>
			</div>
		</div>
	</nav>	
</header>	


<!-- Working Area-->
<div class="row">
	<!-- Setting Area-->
	<div class="col-sm-3">
	<div class = "container well well-sm" style=" width: 90%; padding: 14%; margin: auto; margin-right: 0%; ">
		<legend class="text-center"><h3>Model Universe Setting</h3></legend>
		<form class="col-sm-12" action = "" method = "get">
			<fieldset>
				<div class="form-group row">
					<label for="seg" class="col-2 col-form-label">Segmentation Variables</label>
					<div class="col-10">
					<select name = "seg" id = "seg" class="selectpicker form-control"  multiple data-live-search="true" title = " ">
						{% for var in variables %}
							<option value="{{var}}">{{var}}</option>
						{% endfor %}
					</select>
					</div>
				</div>
				<div class="form-group row">	
					<label for="reg" class="col-2 col-form-label">Regression Variables</label>
					<div class="col-10">
					<select name = "reg" id = "reg" class="selectpicker form-control" multiple data-live-search="true" title = " ">
						{% for var in variables %}
							<option value="{{var}}">{{var}}</option>
						{% endfor %}
					</select>
					</div>
				</div>
				<div class="form-group row">
					<label for="target" class="col-2 col-form-label">Target Variable</label>
					<div class="col-10">
					<select name = "target" id = "target" class="selectpicker form-control" multiple data-live-search="true" title = " " placeholder="Target Varible">
						<option value="target">target</option>
					</select>
					</div>
				</div>
				


				<div class="form-group row">
					<label for="depth" class="col-2 col-form-label">Depth</label>
					<div class="col-10" >
					<input class="form-control" name = "depth" id = "depth" type="number" step="any" value = "8"/>
					</div>
				</div>
				<div class="form-group row">
					<label for="min_size" class="col-2 col-form-label">Min Size</label>
					<div class="col-10"  >
					<input class="form-control" name = "min_size" id = "min_size" type="number" step="any" value = "200"/>
					</div>
				</div>
				<div class="form-group row">
					<label for="trn_split" class="col-2 col-form-label">Train Split</label>
					<div class="col-10" >
					<input class="form-control" name = "trn_split" id = "trn_split" type="number" step="any", value = "0.8"/>
					</div>	
				</div>
				<!--div class="form-group row">
					<label for="ver_string" class="col-2 col-form-label">Version</label>
					<div class="col-10" style="width: 75%;">
					<input class="form-control" name = "ver_string" id = "ver_string" type="text" value = 'default'/>
					</div>
				</div-->
				<div class="form-group row text-right">
					<input class="btn btn-primary btn-lg" type = "Submit" value = "Run" onclick="loading();" />
				</div>
			</fieldset>
		</form>
	</div>
	</div>

	<!-- Output Area -->
	<div class="col-sm-9">
	<div id ="loading"> </div>
	<div id="content" class = "container well well-sm" style=" width: 95%; padding: 2%; margin: auto; margin-left: 0% ">
		<ul class="nav nav-tabs">
			<li class="active"><a data-toggle="tab" href="#mob">Model Summary</a></li>
			<li><a data-toggle="tab" href="#viz">Data Discovery</a></li>
			<li><a data-toggle="tab" href="#conc">Model Effectiveness</a></li>
		</ul>
		<div class="tab-content">
			<!-- Model Summary -->
			<div id="mob" class="tab-pane fade in active">
				<br>
				<br>
				<legend class="text-center"><h3>MOB Tree</h3></legend>	
				<img src= "{% static "media/box_tree.jpg" %}" style="max-width: 100%; max-height: auto;">
				<br>
				<br>
				<legend class="text-center"><h3>Impact Table</h3></legend>
				{% autoescape off %}{{overall_impact}}{% endautoescape %}
				<!--table class="table table-hover" src="{% static "media/overall_impact.html" %}"></table-->
				<br>
				<br>
				<legend class="text-center"><h3>Commentary</h3></legend>
			</div>


			<!-- Data Discovery -->
			<div id="viz" class="tab-pane fade">
				<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
			</div>


			<!-- Model Effectiveness -->
			<div id="conc" class="tab-pane fade">
				<br>
				<br>
				<legend class="text-center"><h3>Exposure  VS Effectiveness</h3></legend>
				<div class="col-sm-3" style="border: solid #d9dbdd; border-width: 1px; padding: 2%;">
					<div class="container" style="margin: auto; width: 90%;">
						<div class="form-group row">
							<label for="graph_variable" class="col-2 col-form-label">Graph Variable</label>
							<div class="col-10">
							<select id="graph_variable" class="div-toggle selectpicker form-control" data-target=".plot_content" data-live-search="true">
								{% for var in reg %}
									<option value="{{var}}" data-show=.{{var}}>{{var}}</option>
								{% endfor %}
							</select>	
							</div>
						</div>

						<div class="form-group row">
							<label for="pivot_variable" class="col-2 col-form-label">Pivot Variable</label>
							<div class="col-10">
							<select id="pivot_variable" class="div-toggle selectpicker form-control" data-target=".plot_content" data-live-search="true">
									<option value="nodes">nodes</option>
							</select>	
							</div>
						</div>

						<div class="form-group row">
							<label for="color_variable" class="col-2 col-form-label">Color Variable</label>
							<div class="col-10">
							<select id="color_variable" class="div-toggle selectpicker form-control" data-target=".plot_content" data-live-search="true">
									<option value="color" >age</option>
							</select>	
							</div>
						</div>

						<div class="form-group row">
							<label for="graph_variable" class="col-2 col-form-label">Size Variable</label>
							<div class="col-10">
							<select id="size_variable" class="div-toggle selectpicker form-control" data-target=".plot_content" data-live-search="true">
									<option value="size" >target</option>
							</select>	
							</div>
						</div>
					</div>
				</div>
				<div class="col-sm-9">
					<div class="container" style="margin: auto; width: 90%">
						<div class="plot_content">
							{% for var in exp_plots %}
								<div class="{{var.0}} hide">{% autoescape off %}{{var.1}}{% endautoescape %}</div>
							{% endfor %}
						</div>
					</div>
				</div>
			</div>




	</div>
	</div>	
</div>
</body>
</html>
